<!doctype html><html class="theme-next mist" lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"><link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css"><link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css"><link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css"><meta name="keywords" content="javascript,react,React Native,"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0"><meta name="description" content="一直对APP开发很感兴趣，可惜对JAVA和swift不熟悉，迟迟没有去搞一款像样的APP(明明是个没有Mac的穷屌丝，还想搞IOS开发？)。之前有用过Vue写过一款web App,用cordova封装的伪APP,属于小打小闹的那种，完全没有原生的好用啊！前端界有一句名言：任何可以用JavaScript编写的应用程序，最终都会用JavaScript编写。React Native就是一个可以用JS来编"><meta name="keywords" content="javascript,react,React Native"><meta property="og:type" content="article"><meta property="og:title" content="Ubuntu下搭建React Native环境"><meta property="og:url" content="http://ztktct.tk/2017/05/22/Ubuntu下搭建React Native环境/index.html"><meta property="og:site_name" content="四月天晴"><meta property="og:description" content="一直对APP开发很感兴趣，可惜对JAVA和swift不熟悉，迟迟没有去搞一款像样的APP(明明是个没有Mac的穷屌丝，还想搞IOS开发？)。之前有用过Vue写过一款web App,用cordova封装的伪APP,属于小打小闹的那种，完全没有原生的好用啊！前端界有一句名言：任何可以用JavaScript编写的应用程序，最终都会用JavaScript编写。React Native就是一个可以用JS来编"><meta property="og:image" content="http://ztktct.tk/images/React%20Native环境搭建/2017-05-31%2023-17-45屏幕截图.png"><meta property="og:image" content="http://ztktct.tk/images/React%20Native环境搭建/2017-05-31%2023-46-10屏幕截图.png"><meta property="og:image" content="http://ztktct.tk/images/React%20Native环境搭建/2017-05-31%2023-55-58屏幕截图.png"><meta property="og:image" content="http://ztktct.tk/images/React%20Native环境搭建/2017-06-01%2000-02-51屏幕截图.png"><meta property="og:image" content="http://ztktct.tk/images/React%20Native环境搭建/2017-06-01%2000-04-04屏幕截图.png"><meta property="og:image" content="http://ztktct.tk/images/React%20Native环境搭建/2017-06-01%2000-09-29屏幕截图.png"><meta property="og:image" content="http://ztktct.tk/images/React%20Native环境搭建/2017-06-02%2000-07-28屏幕截图.png"><meta property="og:image" content="http://ztktct.tk/images/React%20Native环境搭建/2017-06-02%2000-11-16屏幕截图.png"><meta property="og:image" content="http://ztktct.tk/images/React%20Native环境搭建/2017-06-03%2000-13-12屏幕截图.png"><meta property="og:updated_time" content="2017-06-14T13:27:53.062Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Ubuntu下搭建React Native环境"><meta name="twitter:description" content="一直对APP开发很感兴趣，可惜对JAVA和swift不熟悉，迟迟没有去搞一款像样的APP(明明是个没有Mac的穷屌丝，还想搞IOS开发？)。之前有用过Vue写过一款web App,用cordova封装的伪APP,属于小打小闹的那种，完全没有原生的好用啊！前端界有一句名言：任何可以用JavaScript编写的应用程序，最终都会用JavaScript编写。React Native就是一个可以用JS来编"><meta name="twitter:image" content="http://ztktct.tk/images/React%20Native环境搭建/2017-05-31%2023-17-45屏幕截图.png"><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Mist",sidebar:{position:"left",display:"hide",offset:12,offset_float:0,b2t:!1,scrollpercent:!1},fancybox:!0,motion:!1,duoshuo:{userId:"0",author:"博主"},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><link rel="canonical" href="http://ztktct.tk/2017/05/22/Ubuntu下搭建React Native环境/"><title>Ubuntu下搭建React Native环境 | 四月天晴</title></head><body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans"><script>!function(e,t,a,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=t.createElement(a),s=t.getElementsByTagName(a)[0],o.async=1,o.src="https://www.google-analytics.com/analytics.js",s.parentNode.insertBefore(o,s)}(window,document,"script",0,"ga"),ga("create","UA-101197784-1","auto"),ga("send","pageview")</script><script type="text/javascript">var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?f00b8aab80f81a94f0dd5bc61142fa9a";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><div class="container sidebar-position-left page-post-detail"><div class="headband"></div><header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">四月天晴</span> <span class="logo-line-after"><i></i></span></a></div><p class="site-subtitle"></p></div><div class="site-nav-toggle"><button><span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>首页</a></li><li class="menu-item menu-item-categories"><a href="/categories" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i><br>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>归档</a></li><li class="menu-item menu-item-tags"><a href="/tags" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i><br>标签</a></li><li class="menu-item menu-item-search"><a href="javascript:;" class="popup-trigger"><i class="menu-item-icon fa fa-search fa-fw"></i><br>搜索</a></li></ul><div class="site-search"><div class="popup search-popup local-search-popup"><div class="local-search-header clearfix"><span class="search-icon"><i class="fa fa-search"></i> </span><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span><div class="local-search-input-wrapper"><input autocapitalize="off" autocomplete="off" autocorrect="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input"></div></div><div id="local-search-result"></div></div></div></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article"><link itemprop="mainEntityOfPage" href="http://ztktct.tk/2017/05/22/Ubuntu下搭建React Native环境/"><span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person"><meta itemprop="name" content="四月天晴"><meta itemprop="description" content=""><meta itemprop="image" content="/images/avatar.jpg"></span><span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization"><meta itemprop="name" content="四月天晴"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Ubuntu下搭建React Native环境</h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-22T00:16:00+08:00">2017-05-22 </time></span><span class="post-category"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/javascript/" itemprop="url" rel="index"><span itemprop="name">javascript</span> </a></span>， <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/javascript/react/" itemprop="url" rel="index"><span itemprop="name">react</span> </a></span></span><span class="post-comments-count"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-comment-o"></i> </span><a class="cloud-tie-join-count" href="/2017/05/22/Ubuntu下搭建React Native环境/#comments" itemprop="discussionUrl"><span class="post-comments-count join-count" itemprop="commentCount"></span> </a></span><span id="/2017/05/22/Ubuntu下搭建React Native环境/" class="leancloud_visitors" data-flag-title="Ubuntu下搭建React Native环境"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="post-meta-item-text">阅读次数 </span><span class="leancloud-visitors-count"></span></span><div class="post-wordcount"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i> </span><span class="post-meta-item-text">字数统计</span> <span title="字数统计">1,543 字 </span><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-clock-o"></i> </span><span class="post-meta-item-text">阅读时长</span> <span title="阅读时长">6 分钟</span></div></div></header><div class="post-body" itemprop="articleBody"><p>一直对APP开发很感兴趣，可惜对JAVA和swift不熟悉，迟迟没有去搞一款像样的APP(明明是个没有Mac的穷屌丝，还想搞IOS开发？)。之前有用过Vue写过一款web App,用cordova封装的伪APP,属于小打小闹的那种，完全没有原生的好用啊！前端界有一句名言：任何可以用JavaScript编写的应用程序，最终都会用JavaScript编写。React Native就是一个可以用JS来编写出原生APP的框架。万事开头难，先来搭建React Native的开发环境吧！<br><a id="more"></a></p><h2 id="Node-安装"><a href="#Node-安装" class="headerlink" title="Node 安装"></a>Node 安装</h2><p>windows下我们可以直接从<a href="https://nodejs.org/en/" rel="external nofollow noopener noreferrer" target="_blank">Nodejs官网</a>下载安装包，双击安装；<br>linux下我们虽然也可以下载node源代码来安装，但推荐使用<a href="https://github.com/creationix/nvm/blob/master/README.md" rel="external nofollow noopener noreferrer" target="_blank">nvm</a>来安装node，切换版本非常方便！</p><blockquote><p>注: 用nvm安装完node后，可能每次启动一个终端，都会提示<code>commond not found</code>,我们需要执行以下命令：<br><code>nvm alias default stable</code></p></blockquote><h2 id="JAVA环境配置"><a href="#JAVA环境配置" class="headerlink" title="JAVA环境配置"></a>JAVA环境配置</h2><p>React Native目前需要Android Studio2.0或更高版本，而Android Studio又需要JAVA环境，所以先来配置JAVA环境吧(如果已经安装了JAVA, 请跳过这一步，可通过<code>java -version</code>来查看当前java版本)！</p><ol><li><p>我们先去<a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html" rel="external nofollow noopener noreferrer" target="_blank">JAVA官网</a>下载所需的JDK。<br><img src="/images/React Native环境搭建/2017-05-31 23-17-45屏幕截图.png" alt="JDK"></p></li><li><p>在 <code>/usr/local</code> 目录下新建 <code>java</code> 文件夹,并将下载的JDK复制到该文件夹下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ sudo mkdir /usr/<span class="built_in">local</span>/java</div><div class="line">$ sudo cp jdk-8u131-linux-x64.tar.gz /usr/<span class="built_in">local</span>/java</div></pre></td></tr></table></figure></li><li><p>解压源码</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo tar xvf jdk-8u131-linux-x64.tar.gz</div></pre></td></tr></table></figure></li><li><p>设置环境变量</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo gedit /etc/profile</div></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">export JAVA_HOME=/usr/local/java/jdk1.8.0_25  # 配置jdk的主目录,此处根据JDK的路径来配置</div><div class="line">export JRE_HOME=$&#123;JAVA_HOME&#125;/jre</div><div class="line">export CLASSPATH=.:$&#123;JAVA_HOME&#125;/lib:$&#123;JRE_HOME&#125;/lib</div><div class="line">export PATH=$&#123;JAVA_HOME&#125;/bin:$PATH</div></pre></td></tr></table></figure><p>配置完成后执行命令<code>source /etc/profile</code>, 然后在终端输入<code>java -version</code>查看是否安装完毕：<br><img src="/images/React Native环境搭建/2017-05-31 23-46-10屏幕截图.png" alt="JAVA 安装成功"></p></li></ol><h2 id="安装-Android-Studio"><a href="#安装-Android-Studio" class="headerlink" title="安装 Android Studio"></a>安装 Android Studio</h2><ol><li>下载<a href="https://developer.android.com/studio/index.html" rel="external nofollow noopener noreferrer" target="_blank">Android Studio</a></li><li>解压下载到的安装包，cd 到bin文件夹下，执行 <code>./studio.sh</code>命令，我们就能看到如下界面<br><img src="/images/React Native环境搭建/2017-05-31 23-55-58屏幕截图.png" alt="Android Studio"></li><li>先不急着安装，按照<a href="https://facebook.github.io/react-native/" rel="external nofollow noopener noreferrer" target="_blank">React Native官网</a>上来讲，我们需要在安装的时候做些改动(英文不好的可以去<a href="http://reactnative.cn/docs/0.44/getting-started.html" rel="external nofollow noopener noreferrer" target="_blank">React Native中文网</a>查看)<br><img src="/images/React Native环境搭建/2017-06-01 00-02-51屏幕截图.png" alt="Android Studio"><br>选择<code>Android Virtual Device</code>:<br><img src="/images/React Native环境搭建/2017-06-01 00-04-04屏幕截图.png" alt="Android Studio"><br>然后就是漫长的等待他下载完毕啦：<br><img src="/images/React Native环境搭建/2017-06-01 00-09-29屏幕截图.png" alt="Android Studio"></li><li><p>当下载完毕后，我们还需要下载一些SDK：</p><blockquote><p>在<code>SDK Platforms</code>窗口中，选择<code>Show Package Details</code>，然后在<code>Android 6.0 (Marshmallow)</code>中勾选<code>Google APIs</code>、<code>Android SDK Platform 23</code>、<code>Intel x86 Atom System Image</code>、<code>Intel x86 Atom_64 System Image</code>以及<code>Google APIs Intel x86 Atom_64 System Image</code>。<br>在<code>SDK Tools</code>窗口中，选择<code>Show Package Details</code>，然后在<code>Android SDK Build Tools</code>中勾选<code>Android SDK Build-Tools 23.0.1</code>（必须是这个版本）。然后还要勾选最底部的<code>Android Support Repository</code>.</p></blockquote><p><img src="/images/React Native环境搭建/2017-06-02 00-07-28屏幕截图.png" alt="Android Studio"><br><img src="/images/React Native环境搭建/2017-06-02 00-11-16屏幕截图.png" alt="Android Studio"></p></li><li><p>当SDK下载好后，我们还需要配置ANDROID_HOME环境变量：<br>确保ANDROID_HOME环境变量正确地指向了你安装的Android SDK的路径。<br>具体的做法是把下面的命令加入到<code>~/.profile</code>文件中。如果你使用的是其他的shell，则选择对应的配置文件:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 如果你不是通过Android Studio安装的sdk，则其路径可能不同，请自行确定清楚。</span></div><div class="line"><span class="built_in">export</span> ANDROID_HOME=<span class="variable">$&#123;HOME&#125;</span>/Android/Sdk</div></pre></td></tr></table></figure><p>然后使用下列命令使其立即生效（否则重启后才生效）：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">source</span> ~/.profile</div></pre></td></tr></table></figure><p>可以使用<code>echo $ANDROID_HOME</code>检查此变量是否已正确设置。</p></li><li>将Android SDK的Tools目录添加到PATH变量中，以便在终端中运行一些Android工具，在<code>~/.profile</code>文件中添加:<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">export</span> PATH=<span class="variable">$&#123;PATH&#125;</span>:<span class="variable">$&#123;ANDROID_HOME&#125;</span>/tools</div><div class="line"><span class="built_in">export</span> PATH=<span class="variable">$&#123;PATH&#125;</span>:<span class="variable">$&#123;ANDROID_HOME&#125;</span>/platform-tools</div></pre></td></tr></table></figure></li></ol><h2 id="安装React-Native命令行工具"><a href="#安装React-Native命令行工具" class="headerlink" title="安装React Native命令行工具"></a>安装React Native命令行工具</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install -g react-native-cli</div></pre></td></tr></table></figure><p>由于一些大家都懂的原因，在国内下载npm包比较慢，还好我们勤劳的淘宝帮我们备份了npm源：<br></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 此条命令将npm源设置成国内淘宝提供的镜像，速度更快哦</span></div><div class="line">$ npm config <span class="built_in">set</span> registry https://registry.npm.taobao.org</div></pre></td></tr></table></figure><p></p><p>当然如果你使用yarn,可以这么设置:<br></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">yarn config <span class="built_in">set</span> registry https://registry.npm.taobao.org --global</div><div class="line">yarn config <span class="built_in">set</span> disturl https://npm.taobao.org/dist --global</div></pre></td></tr></table></figure><p></p><p>安装完后，我们就可以来尝试构建第一个项目了：<br></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">react-native init AwesomeProject</div><div class="line"><span class="built_in">cd</span> AwesomeProject</div><div class="line">react-native run-android</div></pre></td></tr></table></figure><p></p><p>如果你想修改后能实时看到结果，那么你应该先运行以下命令:<br></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ react-native start</div></pre></td></tr></table></figure><p></p><p>如果一切顺利，你将会在机器上看到一下这张图:D<br><img src="/images/React Native环境搭建/2017-06-03 00-13-12屏幕截图.png" alt="Android Studio"></p><h2 id="优化开发效率"><a href="#优化开发效率" class="headerlink" title="优化开发效率"></a>优化开发效率</h2><h3 id="watchman"><a href="#watchman" class="headerlink" title="watchman"></a>watchman</h3><p>Watchman是由Facebook提供的监视文件系统变更的工具。安装此工具可以提高开发时的性能（packager可以快速捕捉文件的变化从而实现实时刷新）。<br>执行以下命令安装watchman:<br></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">git <span class="built_in">clone</span> https://github.com/facebook/watchman.git</div><div class="line"><span class="built_in">cd</span> watchman</div><div class="line">git checkout v4.7.0  <span class="comment"># 这是本文发布时的最新稳定版本</span></div><div class="line">./autogen.sh</div><div class="line">./configure</div><div class="line">make</div><div class="line">sudo make install</div></pre></td></tr></table></figure><p></p><h4 id="安装错误解决"><a href="#安装错误解决" class="headerlink" title="安装错误解决"></a>安装错误解决</h4><ol><li><p>安装watchman时如果提示如下信息：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">./autogen.sh: 9: ./autogen.sh: aclocal: not found</div><div class="line">./autogen.sh: 10: ./autogen.sh: autoheader: not found</div><div class="line">./autogen.sh: 11: ./autogen.sh: automake: not found</div><div class="line">./autogen.sh: 12: ./autogen.sh: autoconf: not found</div></pre></td></tr></table></figure><p>丢失的aclocal是automake包的一部分，因此要先安装automake：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install automake</div></pre></td></tr></table></figure></li><li><p>安装watchman时如果提示如下信息：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">fatal error: Python.h: 没有那个文件或目录</div></pre></td></tr></table></figure><p>需要安装<code>python-dev</code>:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install python-dev</div></pre></td></tr></table></figure></li></ol><h3 id="Gradle-Daemon"><a href="#Gradle-Daemon" class="headerlink" title="Gradle Daemon"></a>Gradle Daemon</h3><p>开启Gradle Daemon可以极大地提升java代码的增量编译速度。</p><ol><li>下载<a href="https://gradle.org/releases" rel="external nofollow noopener noreferrer" target="_blank">Gradle</a>,将其解压到 <code>/usr/local/opt</code> 目录下</li><li><p>在/etc/profile文件中添加如下配置：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">export</span> GRADLE_HOME=/usr/<span class="built_in">local</span>/opt/gradle-3.5 </div><div class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:<span class="variable">$GRADLE_HOME</span>/bin</div></pre></td></tr></table></figure></li><li><p>执行 <code>source /etc/profile</code> 使之生效</p></li><li>执行gradle -v确定安装成功</li><li>配置gradle deamon<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ touch ~/.gradle/gradle.properties &amp;&amp; <span class="built_in">echo</span> <span class="string">"org.gradle.daemon=true"</span> &gt;&gt; ~/.gradle/gradle.properties</div></pre></td></tr></table></figure></li></ol><h3 id="安装Genymotion"><a href="#安装Genymotion" class="headerlink" title="安装Genymotion"></a>安装Genymotion</h3><p>比起Android Studio自带的原装模拟器，Genymotion是一个性能更好的选择。<br>Genymotion需要提前安装好<a href="https://www.virtualbox.org/wiki/Linux_Downloads" rel="external nofollow noopener noreferrer" target="_blank">virtualbox</a><br>用命令行安装更为方便：<br></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ wget -q https://www.virtualbox.org/download/oracle_vbox.asc -O- | sudo apt-key add -</div><div class="line">$ sudo apt-get update</div><div class="line">$ sudo apt-get install virtualbox</div></pre></td></tr></table></figure><p></p><p>之后我们从<a href="https://www.genymotion.com/download/" rel="external nofollow noopener noreferrer" target="_blank">Genymotion官网</a>下载Genymotion并安装：<br></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ chmod +x genymotion-2.9.0-linux_x64.bin</div><div class="line">$ sudo ./genymotion-2.6.0-linux_x64.bin -d ~</div></pre></td></tr></table></figure><p></p><p>进入到<code>~/genymotion</code>目录下,执行<code>./genymotion</code>来启动</p><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul><li><a href="http://reactnative.cn/docs/0.44/getting-started.html" rel="external nofollow noopener noreferrer" target="_blank">React Native中文网</a></li><li><a href="https://facebook.github.io/react-native/" rel="external nofollow noopener noreferrer" target="_blank">React Native官网</a></li><li><a href="https://www.genymotion.com/download/" rel="external nofollow noopener noreferrer" target="_blank">Genymotion</a></li><li><a href="http://blog.csdn.net/u010849674/article/details/70238108" rel="external nofollow noopener noreferrer" target="_blank">Linux下修复“运行aclocal失败：没有该文件或目录”</a></li><li><a href="http://blog.csdn.net/p106786860/article/details/51052299" rel="external nofollow noopener noreferrer" target="_blank">React Native 一:开发环境搭建</a></li></ul></div><div></div><div><div style="padding:10px 0;margin:20px auto;width:90%;text-align:center"><div>坚持原创技术分享，您的支持将鼓励我继续创作！</div><button id="rewardButton" disable="enable" onclick="showQR()"><span>赏</span></button><div id="QR" style="display:none"><div id="wechat" style="display:inline-block"><img id="wechat_qr" src="/images/wechat.jpg" alt="四月天晴 WeChat Pay"></div><div id="alipay" style="display:inline-block"><img id="alipay_qr" src="/images/alipay.jpg" alt="四月天晴 Alipay"></div></div></div><script>function showQR(){document.getElementById("QR").style.display="block"}</script></div><div></div><footer class="post-footer"><div class="post-tags"><a href="/tags/javascript/" rel="tag"># javascript</a> <a href="/tags/react/" rel="tag"># react</a> <a href="/tags/React-Native/" rel="tag"># React Native</a></div><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/2017/05/07/Mobx学习笔记/" rel="next" title="MobX学习笔记"><i class="fa fa-chevron-left"></i> MobX学习笔记</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"><a href="/2017/06/13/React Native初尝试/" rel="prev" title="React Native初尝试">React Native初尝试 <i class="fa fa-chevron-right"></i></a></div></div></footer></article><div class="post-spread"></div></div></div><div class="comments" id="comments"><div id="cloud-tie-wrapper" class="cloud-tie-wrapper"></div></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span> <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span> <span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">文章目录</li><li class="sidebar-nav-overview" data-target="site-overview">站点概览</li></ul><section class="site-overview sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" src="/images/avatar.jpg" alt="四月天晴"><p class="site-author-name" itemprop="name">四月天晴</p><p class="site-description motion-element" itemprop="description">前端技术，JS，node，react，vue，css，四月天晴的小小博客</p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/archives"><span class="site-state-item-count">7</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/index.html"><span class="site-state-item-count">5</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/index.html"><span class="site-state-item-count">10</span> <span class="site-state-item-name">标签</span></a></div></nav><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/ztktct" target="_blank" title="GitHub" rel="external nofollow noopener noreferrer"><i class="fa fa-fw fa-github"></i> GitHub</a></span></div></section><section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class="post-toc"><div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Node-安装"><span class="nav-number">1.</span> <span class="nav-text">Node 安装</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JAVA环境配置"><span class="nav-number">2.</span> <span class="nav-text">JAVA环境配置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#安装-Android-Studio"><span class="nav-number">3.</span> <span class="nav-text">安装 Android Studio</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#安装React-Native命令行工具"><span class="nav-number">4.</span> <span class="nav-text">安装React Native命令行工具</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#优化开发效率"><span class="nav-number">5.</span> <span class="nav-text">优化开发效率</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#watchman"><span class="nav-number">5.1.</span> <span class="nav-text">watchman</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#安装错误解决"><span class="nav-number">5.1.1.</span> <span class="nav-text">安装错误解决</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Gradle-Daemon"><span class="nav-number">5.2.</span> <span class="nav-text">Gradle Daemon</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#安装Genymotion"><span class="nav-number">5.3.</span> <span class="nav-text">安装Genymotion</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#参考资料"><span class="nav-number">6.</span> <span class="nav-text">参考资料</span></a></li></ol></div></div></section></div></aside></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2017</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">四月天晴</span></div><div class="powered-by">由 <a class="theme-link" href="https://hexo.io" rel="external nofollow noopener noreferrer" target="_blank">Hexo</a> 强力驱动</div><div class="theme-info">主题 - <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next" rel="external nofollow noopener noreferrer" target="_blank">NexT.Mist</a></div></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i></div></div><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script><script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script><script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script><script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script><script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script><script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script><script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script><script>var cloudTieConfig={url:document.location.href,sourceId:"",productKey:"5d866f854dad40f19240f415fa33cae7",target:"cloud-tie-wrapper"}</script><script src="https://img1.ws.126.net/f2e/tie/yun/sdk/loader.js"></script><script type="text/javascript">function proceedsearch(){$("body").append('<div class="search-popup-overlay local-search-pop-overlay"></div>').css("overflow","hidden"),$(".popup").toggle()}var isfetched=!1,search_path="search.xml";0==search_path.length&&(search_path="search.xml");var path="/"+search_path,searchFunc=function(e,t,a){"use strict";$.ajax({url:e,dataType:"xml",async:!0,success:function(e){isfetched=!0,$(".popup").detach().appendTo(".header-inner");var r=$("entry",e).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get(),c=document.getElementById(t),s=document.getElementById(a);c.addEventListener("input",function(){var e=0,t='<ul class="search-result-list">',a=this.value.trim().toLowerCase().split(/[\s\-]+/);s.innerHTML="",this.value.trim().length>1&&r.forEach(function(r){var c=!1,s=r.title.trim().toLowerCase(),o=r.content.trim().replace(/<[^>]+>/g,"").toLowerCase(),n=decodeURIComponent(r.url),i=-1,l=-1,p=-1;if(""!=s&&a.forEach(function(e,t){i=s.indexOf(e),l=o.indexOf(e),(i>=0||l>=0)&&(c=!0,0==t&&(p=l))}),c){e+=1,t+="<li><a href='"+n+"' class='search-result-title'>"+s+"</a>";var h=r.content.trim().replace(/<[^>]+>/g,"");if(p>=0){var u=p-20,d=p+80;u<0&&(u=0),0==u&&(d=50),d>h.length&&(d=h.length);var f=h.substring(u,d);a.forEach(function(e){var t=new RegExp(e,"gi");f=f.replace(t,'<b class="search-keyword">'+e+"</b>")}),t+='<p class="search-result">'+f+"...</p>"}t+="</li>"}}),t+="</ul>",0==e&&(t='<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'),""==a&&(t='<div id="no-result"><i class="fa fa-search fa-5x" /></div>'),s.innerHTML=t}),proceedsearch()}})};$(".popup-trigger").click(function(e){e.stopPropagation(),0==isfetched?searchFunc(path,"local-search-input","local-search-result"):proceedsearch()}),$(".popup-btn-close").click(function(e){$(".popup").hide(),$(".local-search-pop-overlay").remove(),$("body").css("overflow","")}),$(".popup").click(function(e){e.stopPropagation()})</script><script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script><script>AV.initialize("6hYwMpM3OTHJOgw0AROJkAUP-gzGzoHsz","lerCxIj1eD94yq3lbb4XVBOn")</script><script>function showTime(e){var t=new AV.Query(e),n=[],o=$(".leancloud_visitors");o.each(function(){n.push($(this).attr("id").trim())}),t.containedIn("url",n),t.find().done(function(e){if(0!==e.length){for(c=0;c<e.length;c++){var t=e[c],i=t.get("url"),s=t.get("time"),l=document.getElementById(i);$(l).find(".leancloud-visitors-count").text(s)}for(var c=0;c<n.length;c++){var i=n[c],l=document.getElementById(i),r=$(l).find(".leancloud-visitors-count");""==r.text()&&r.text(0)}}else o.find(".leancloud-visitors-count").text(0)}).fail(function(e,t){console.log("Error: "+t.code+" "+t.message)})}function addCount(e){var t=$(".leancloud_visitors"),n=t.attr("id").trim(),o=t.attr("data-flag-title").trim(),i=new AV.Query(e);i.equalTo("url",n),i.find({success:function(t){if(t.length>0){var i=t[0];i.fetchWhenSave(!0),i.increment("time"),i.save(null,{success:function(e){$(document.getElementById(n)).find(".leancloud-visitors-count").text(e.get("time"))},error:function(e,t){console.log("Failed to save Visitor num, with error message: "+t.message)}})}else{var s=new e,l=new AV.ACL;l.setPublicReadAccess(!0),l.setPublicWriteAccess(!0),s.setACL(l),s.set("title",o),s.set("url",n),s.set("time",1),s.save(null,{success:function(e){$(document.getElementById(n)).find(".leancloud-visitors-count").text(e.get("time"))},error:function(e,t){console.log("Failed to create")}})}},error:function(e){console.log("Error:"+e.code+" "+e.message)}})}$(function(){var e=AV.Object.extend("Counter");1==$(".leancloud_visitors").length?addCount(e):$(".post-title-link").length>1&&showTime(e)})</script></body></html>